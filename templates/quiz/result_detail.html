{% extends 'base.html' %}

{% block content %}
    <h1>{{ result.quiz.title }} 오답노트</h1>
    <p>{{ result.completed_at|date:"Y년 m월 d일 H:i" }} 응시 / <strong>{{ result.score }}점</strong></p>
    <hr>

    {% if incorrect_answers %}
        {% for user_answer in incorrect_answers %}
            <div>
                <h4>{{ forloop.counter }}. {{ user_answer.question.question_text }}</h4>
                {% if user_answer.question.image %}
                    <img src="{{ user_answer.question.image.url }}" alt="문제 이미지" style="max-width: 300px; height: auto;">
                {% endif %}

                <ul>
                {% for choice in user_answer.question.choice_set.all %}
                    <li>
                        {% if choice.image %}
                            <img src="{{ choice.image.url }}" alt="보기 이미지" style="max-height: 80px; vertical-align: middle;">
                        {% endif %}
                        {{ choice.choice_text }}

                        {% if choice.id == user_answer.selected_choice.id %}
                            <span style="color: red; font-weight: bold;"> &lt;-- 나의 오답</span>
                        {% elif choice.is_correct %}
                            <span style="color: green; font-weight: bold;"> &lt;-- 정답</span>
                        {% endif %}
                    </li>
                {% endfor %}
                </ul>
            </div>
            <hr>
        {% endfor %}
    {% else %}
        <p>틀린 문제가 없습니다! 완벽합니다. 👍</p>
    {% endif %}

    <a href="{% url 'quiz:my_results_index' %}">결과 목록으로 돌아가기</a>
       
{% endblock %}python3 -m venv venv