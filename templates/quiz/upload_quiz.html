{% extends 'base.html' %}

{% block content %}
    <div class="card">
        <div class="card-header">
            <h1>엑셀 파일로 문제 대량 등록</h1>
        </div>
        <div class="card-body">
            {% if messages %}
                {% for message in messages %}
                    <div class="alert alert-{% if message.tags == 'error' %}danger{% else %}{{ message.tags }}{% endif %}" role="alert">
                        {{ message }}
                    </div>
                {% endfor %}
            {% endif %}
    
            <form method="post" enctype="multipart/form-data">
                {% csrf_token %}
                <div class="input-group">
                    <input type="file" name="excel_file" class="form-control" accept=".xlsx" required>
                    <button type="submit" class="btn btn-primary">업로드</button>
                </div>
            </form>
    
            <hr class="my-4">
    
            <div class="card mt-4">
                <div class="card-header">
                    <strong>업로드 양식 안내</strong>
                </div>
                <div class="card-body">
                    <p>엑셀 파일의 <strong>첫 번째 행(1행)</strong>은 반드시 아래의 열 제목으로 구성되어야 합니다. (순서는 상관없습니다)</p>
                    <ul class="list-group list-group-flush">
                        <li class="list-group-item"><strong>quiz_title</strong>: 문제가 속할 시험지의 제목</li>
                        <li class="list-group-item"><strong>question_text</strong>: 문제 내용</li>
                        <li class="list-group-item"><strong>question_type</strong>: 문제 유형 (<code>객관식</code>, <code>다중선택</code>, <code>주관식</code> 중 하나)</li>
                        <li class="list-group-item"><strong>difficulty</strong>: 난이도 (<code>상</code>, <code>중</code>, <code>하</code> 중 하나)</li>
                        <li class="list-group-item"><strong>tags</strong>: 태그 (쉼표<code>,</code>로 여러 개 입력 가능. 예: <code>태그1,태그2</code>)</li>
                        <li class="list-group-item"><strong>correct_choice</strong>: 정답 보기 (주관식의 경우 정답 텍스트)</li>
                        <li class="list-group-item"><strong>correct_choice1, correct_choice2...</strong>: (다중선택용) 추가 정답 보기</li>
                        <li class="list-group-item"><strong>other_choice1, other_choice2...</strong>: 오답 보기</li>
                    </ul>
                </div>
                <div class="table-responsive">
                    <table class="table table-bordered mb-0">
                        <thead class="table-light">
                            <tr>
                                <th>quiz_title</th>
                                <th>question_text</th>
                                <th>question_type</th>
                                <th>difficulty</th>
                                <th>tags</th>
                                <th>correct_choice</th>
                                <th>correct_choice1</th>
                                <th>other_choice1</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>코딩 시험</td>
                                <td>파이썬 창시자는?</td>
                                <td>객관식</td>
                                <td>하</td>
                                <td>파이썬,인물</td>
                                <td>귀도 반 로섬</td>
                                <td></td>
                                <td>제임스 고슬링</td>
                            </tr>
                            <tr>
                                <td>코딩 시험</td>
                                <td>Django 구성요소?</td>
                                <td>다중선택</td>
                                <td>중</td>
                                <td>Django</td>
                                <td>Model</td>
                                <td>View</td>
                                <td>Controller</td>
                            </tr>
                            <tr>
                                <td>코딩 시험</td>
                                <td>ORM은 무엇의 약자인가?</td>
                                <td>주관식</td>
                                <td>상</td>
                                <td>Django,DB</td>
                                <td>Object-Relational Mapping</td>
                                <td></td>
                                <td></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
{% endblock %}